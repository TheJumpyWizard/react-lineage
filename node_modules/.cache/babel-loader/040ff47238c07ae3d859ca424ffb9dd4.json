{"ast":null,"code":"import _slicedToArray from \"/Users/bk/data_work/react-lineage/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/bk/data_work/react-lineage/src/components/MainScreen.tsx\";\nimport React, { useState } from 'react';\nimport { parseSqlQuery } from '../services/sqlParser';\nimport DataLineageScreen from './DataLineageScreen';\nvar MainScreen = function MainScreen() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    sqlQuery = _useState2[0],\n    setSqlQuery = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    parsedQuery = _useState4[0],\n    setParsedQuery = _useState4[1];\n  var handleParseClick = function handleParseClick() {\n    try {\n      var parsed = parseSqlQuery(sqlQuery);\n      setParsedQuery(parsed);\n    } catch (error) {\n      if (error instanceof Error) {\n        alert(error.message);\n      } else {\n        alert('An unknown error occurred.');\n      }\n    }\n  };\n  var handleSqlQueryChange = function handleSqlQueryChange(event) {\n    setSqlQuery(event.target.value);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, \"SQL Parser\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center items-center flex-wrap\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    value: sqlQuery,\n    onChange: handleSqlQueryChange,\n    placeholder: \"Enter SQL query here\",\n    className: \"border-blue-500 border-2 p-2 rounded-md w-96 text-center mr-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleParseClick,\n    className: \"bg-gradient-to-r from-light-blue-400 to-gray py-2 px-4 text-white rounded-md\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"Parse\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), parsedQuery && /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Parsed Query\"), /*#__PURE__*/React.createElement(\"code\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, parsedQuery.table, \": \", parsedQuery.columns.map(function (col) {\n    return col.table + '.' + col.column;\n  }).join(', ')), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(DataLineageScreen, {\n    table: parsedQuery.table,\n    columns: parsedQuery.columns,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  })));\n};\nexport default MainScreen;","map":{"version":3,"names":["React","useState","parseSqlQuery","DataLineageScreen","MainScreen","_useState","_useState2","_slicedToArray","sqlQuery","setSqlQuery","_useState3","_useState4","parsedQuery","setParsedQuery","handleParseClick","parsed","error","Error","alert","message","handleSqlQueryChange","event","target","value","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onChange","placeholder","onClick","table","columns","map","col","column","join"],"sources":["/Users/bk/data_work/react-lineage/src/components/MainScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { parseSqlQuery } from '../services/sqlParser';\nimport DataLineageScreen from './DataLineageScreen';\nimport { ParsedQuery } from '../interfaces/interfaces';\n\nconst MainScreen: React.FC = () => {\n  const [sqlQuery, setSqlQuery] = useState('');\n  const [parsedQuery, setParsedQuery] = useState<ParsedQuery | null>(null);\n\n  const handleParseClick = () => {\n    try {\n      const parsed = parseSqlQuery(sqlQuery);\n      setParsedQuery(parsed);\n    } catch (error: unknown) {\n      if (error instanceof Error) {\n        alert(error.message);\n      } else {\n        alert('An unknown error occurred.');\n      }\n    }\n  }\n\n  const handleSqlQueryChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setSqlQuery(event.target.value);\n  }\n\n  return (\n    <div>\n      <h1 className=\"header\">SQL Parser</h1>\n      <div className=\"flex justify-center items-center flex-wrap\">\n        <textarea\n          value={sqlQuery}\n          onChange={handleSqlQueryChange}\n          placeholder=\"Enter SQL query here\"\n          className=\"border-blue-500 border-2 p-2 rounded-md w-96 text-center mr-4\"\n        />\n        <button\n          onClick={handleParseClick}\n          className=\"bg-gradient-to-r from-light-blue-400 to-gray py-2 px-4 text-white rounded-md\"\n        >\n          Parse\n        </button>\n      </div>\n      <br />\n      <br />\n      {parsedQuery && (\n        <div>\n          <h2>Parsed Query</h2>\n          <code>{parsedQuery.table}: {parsedQuery.columns.map((col) => col.table + '.' + col.column).join(', ')}</code>\n          <br />\n          <br />\n          <DataLineageScreen\n            table={parsedQuery.table}\n            columns={parsedQuery.columns}\n          />\n        </div>\n      )}\n    </div>\n    \n  );\n};\n\nexport default MainScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}